{% extends "base_generic.html" %}

{% block title %}<title>Edit Mix</title>{% endblock %}

{% block css %}
	{% load static %}
	<link rel="stylesheet" href="{% static 'mixlist/upload.css' %}">
{% endblock %}

{% block content %}

<div class="container-fluid">
	<div class="row">
		<div class="col-lg-3"></div>
		<div class="col-lg-6">
			<h1 class="jumbotron-heading" id="upload-a-mix">Edit Mix</h1>
		</div>
	</div>		
	<div class="row">
		<div class="col-lg-3"></div>
		<div class="col-lg-6">
						
			<div class="font-weight-bold text-center separator">
				Basic Data <hr>
			</div>
			<div class="upload-section">
				<div class="form-group row">
					<label class="col-sm-2 col-form-label">Title:</label>
					<div class="col-sm-10">
						<input type="" class="form-control" id="title" placeholder="" value="{{mix.title}}">
					</div>
				</div>	
				<div class="form-group row">					
					<label class="col-sm-2 col-form-label">Author:</label>
					<div class="col-sm-10">
						<input type="" class="form-control" id="author" placeholder="(Leave black if you are the author)">
					</div>
				</div>
			</div>
			<div class="text-center separator">
					<a class="font-weight-bold">Tags</a> <a class="text-muted">(tracks, articles, images, etc.)</a> <hr>
			</div>
			<div class="upload-section" id="tags">
				{% for member in mix.playlistmembership_set.all %}
					<div class="tag">
						<label class="col-sm-2 col-form-label">Edit Tag:</label>
						<div class="col-sm-12">
							<input type="" class="form-control tag-start" placeholder="Start Time" value="{{member.time}}">
						</div>
						<div class="col-sm-12">
							<input type="" class="form-control tag-link" placeholder="Link" value="{{member.track.getLinks}}">						
						</div>
						<div class="col-sm-12">
							<input type="" class="form-control tag-title" placeholder="Title" value="{{member.track.title}}">
						</div>
						<div class="col-sm-12">
							<input type="" class="form-control tag-author" placeholder="Author" value="{{member.track.artist}}">
						</div>
						<div class="col-sm-1">
							<a class="btn btn-outline-success my-2 my-sm-0 text-muted tag-remove">Remove Tag</a>
						</div>	
					</div>
				{% endfor %}
			</div>
			<div class="upload-section">
				<a class="btn btn-outline-success my-2 my-sm-0 text-muted" id="tag-add">Add Tag</a>
			</div>
		<div>
		<div class="col-lg-3"></div>
	 </div>
	 <div class="row">
		<div class="col-lg-12 text-center upload-section">
			<a class="btn btn-outline-success my-2 my-sm-0 text-muted">Finish</a>
		</div>
	</div>
</div>

{% endblock %}

{% block javascript %}
	{% load static %}
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="{% static 'mixlist/upload.js' %}"></script>	
	<script id="tag-new" type="text/html">		
		<div class="tag">
			<label class="col-sm-2 col-form-label">Edit Tag:</label>
			<div class="col-sm-12">
				<input type="" class="form-control tag-start" placeholder="Start Time">
			</div>
			<div class="col-sm-12">
				<input type="" class="form-control tag-link" placeholder="Link">
			</div>
			<div class="col-sm-12">
				<input type="" class="form-control tag-title" placeholder="Title">
			</div>
			<div class="col-sm-12">
				<input type="" class="form-control tag-author" placeholder="Author">
			</div>
			<div class="col-sm-1">
				<a class="btn btn-outline-success my-2 my-sm-0 text-muted tag-remove">Remove Tag</a>
			</div>
		</div>		
	</script>
{% endblock %}